<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>âž• ðŸ”´ðŸ”´</title>
    <script src="Build/UnityLoader.js"></script>
</head>
<body>
    <div id="loading">
        <div class="loading-center">
            <div class="load-scale">
                <div class="loading-anim">
                    <div class="center">
                        <div class="lds-dual-ring"></div>
                    </div>
                    <div class="loading-bar"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="main">

        <div class="mm">
            <canvas id="unity-canvas" style="width: 480px; height: 432px; background: #929D5B"></canvas>
            <div class="tl"> </div>
            <div class="ml">
                <img id="led-off" src="images/led_off.png" />
            </div>
            <div class="bl"> </div>
            <div class="tr"> </div>
            <div class="mr"> </div>
            <div class="br"> </div>
            <div class="tm"> </div>
            <div class="bm"> </div>
        </div>

    <script src="Build/webgl_build.loader.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        function onLoadingEnd() {
            $(".load-scale").addClass('scale-out');
            setTimeout(() => {
                $("#loading").fadeOut(200);
            }, 600);
        }

        function onTurnOn() {
            $("#led-off").stop().hide();
        }

        function onTurnOff() {
            $("#led-off").stop().show();
        }

        onTurnOff();

        function onLowBattery() {
            $("#led-off").fadeIn(1500);
        }

        function unityProgress(p) {
            document.querySelector(".loading-bar").style.width = (p * 80) + "%";
            if(p == 1) document.querySelector(".loading-bar").style.width = (p * 100) + "%";
        }

        createUnityInstance(document.querySelector("#unity-canvas"), {
            dataUrl: "Build/webgl_build.data",
            frameworkUrl: "Build/webgl_build.framework.js",
            codeUrl: "Build/webgl_build.wasm",
            streamingAssetsUrl: "StreamingAssets",
            companyName: "FKLG - Les Crafteurs",
            productName: "Tuneboy",
            productVersion: "1.0"
        }, unityProgress);
    </script>
    </div>
</body>
</html>